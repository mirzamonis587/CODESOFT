$(function(){var o={q:"",type:"",price:"",style:"",license:"",is_featured:"",sort:""},n=[];$("#search-filters").on("change","input, select",function(){var e=$(this),t=e.parents("form").attr("action"),a=$("#search-filters").serializeObject(),i={name:e.attr("name"),value:e.val()};$.each(n,function(e,t){t.abort()}),$.each(a,function(e,t){a[e]==o[e]&&delete a[e]}),$(window).scrollTop(0),$("#search-results .icon-grid").html(templates.render("icons/_loading.html",{count:48})),n.push($.get(t,a,function(e){var t=$(e).first("#search-results");$("#search-results").replaceWith(t),$("title").text($("#search-title").text()),$(document).trigger("search.results"),$(window).trigger("scroll"),$('#search-results [data-toggle="tooltip"]').tooltip(),n.pop()})),ga("send","event","Settings","Filter "+i.name,i.value),$('.search-form [type="hidden"]').remove(),$.each(a,function(e,t){"q"!=e&&$("<input />",{type:"hidden",name:e,value:t}).appendTo(".search-form")}),history.pushState(a,null,"?"+$.param(a))}),$(window).on("popstate",function(){location.reload()}),$('[data-toggle="reset-filters"]').on("click",function(){$.each(o,function(e){Cookies.remove(e)})}),$(document).on("click","[data-filter]",function(){var e=$(this).data();$("#search-filters").find('[name="'+e.filter+'"][value="'+e.value+'"]').click(),$('[data-toggle="tooltip"]').tooltip("hide")}),$(document).on("click",'[data-filter="sort"]',function(e){var t=$(this),a=t.data(),i=$.trim(t.text()),o=t.parents(".dropdown");$('#search-filters [name="sort"]').val(a.value).trigger("change"),o.find('.btn[data-toggle="dropdown"]').toggleClass("active",0<a.value),o.find('[data-toggle="dropdown"] [data-title="sorting"]').text(function(){return 16<i.length&&(i=i.substring(0,13)+"..."),i}),t.siblings().removeClass("active"),t.addClass("active"),e.preventDefault()}),$(document).on("click",".icon-preview a",function(){var e=$(this),t=e.parents(".icon-preview"),a=($("#search-results .icon-preview"),t.index(".icon-preview")+1);ga("send","event","Search results",{"add-cart":"Add icon to cart",download:"Download icon","icon-details":"Open icon details",flag:"Open flag icon modal",bookmark:"Open bookmark icon modal"}[e.data("action")]||"Not set","Position in results",a)}),$(document).on("change","[data-setting]",function(e){$('#search-filters [name="q"]').trigger("change")}),$("[data-preview_size]").on("click",function(e){var t=$(this),a=t.data("preview_size");t.siblings(".active").removeClass("active"),t.addClass("active"),Cookies.set("preview_size",a),$("#search-results").length?$('#search-filters [name="q"]').trigger("change"):location.reload()}),$(".btn-group-styles").on("change",function(e){var t=$(e.target).val(),a=$('.dropdown-styles [data-toggle="dropdown"]'),i=$('.dropdown-styles [data-filter="style"][data-value="'+t+'"]'),o=0<i.length;$(".dropdown-styles .dropdown-item").removeClass("active"),a.toggleClass("pre-active active",o),i.toggleClass("active",o)}),$(".filters-toggle button").on("click",function(){$(this).find(".ui-icon").toggleClass("d-none"),$(".search-sidebar").toggleClass("d-none")}),$("#safe-search").on("change",function(){$(this).is(":checked")?Cookies.set("is_explicit","false"):Cookies.remove("is_explicit")})});
//# sourceMappingURL=https://www.iconfinder.com/static/js/search.js.map
